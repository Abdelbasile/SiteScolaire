<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actualit√©s - √âcole Moderne</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Actualit√©s de l'√âcole</h1>
            <h1 id="welcomeMessage"></h1>
        </div>
        <!-- Menu de navigation -->
<nav>
     <button id="menuButton">‚ò∞ Menu</button>
     <ul id="menuItems" style="display: none;">
        <li><a href="index.html">Accueil</a></li>
        <li><a href="√Ä_propos.html">√Ä_propos</a></li>
        <li><a href="evenements.html">√âv√©nements</a></li>
        <li><a href="actualites.html">Actualit√©s</a></li>
        <li><a href="ressources.html">Ressources</a></li>
        <li><a href="forum.html">Forum</a></li>
        <li><a href="contact.html">Contact</a></li>
     </ul>
</nav>
   <section id="news">
    <h2>Derni√®res actualit√©s</h2>
    <div class="slider">
        <div class="slides">
            <div class="slide">Actualit√© 1</div>
            <div class="slide">Actualit√© 2</div>
            <div class="slide">Actualit√© 3</div>
        </div>
    </div>
   </section>
    </header>
<div class="filters-container">
    <div class="filter">
        <label for="category">Cat√©gorie :</label>
        <select id="category">
            <option value="all">Toutes</option>
            <option value="academique">Acad√©mique</option>
            <option value="culturel">Culturel</option>
            <option value="sportif">Sportif</option>
        </select>
    </div>
    <div class="filter">
        <label for="sort">Trier par :</label>
        <select id="sort">
            <option value="date">Date</option>
            <option value="popularit√©">Popularit√©</option>
            <option value="titre">Titre (A-Z)</option>
        </select>
    </div>
</div>
    <div id="notification" style="display: none;">Un nouvel article est disponible !</div>
    <div id="real-time-notification" style="display: none;">Nouvel article disponible : <span id="new-article-title"></span></div>
    
    <div id="auth">
  <button id="login-btn">Se connecter</button>
  <button id="logout-btn" style="display: none;">Se d√©connecter</button>
    </div>
    <!-- Liste des actualit√©s -->
<div id="news-container">
    <section id="news-list">
        <article class="news-item">
            <h2>Nouvelle rentr√©e scolaire</h2>
            <p class="date">Publi√© le 1er septembre 2024</p>
            <p class="excerpt">L'√©cole a ouvert ses portes avec de nouvelles installations modernes pour accueillir les √©l√®ves...</p>
             <a href="#" class="read-more">Lire la suite</a>   
                 <div class="multimedia">
                  <video controls>
                    <source src="video.mp4" type="video/mp4">
                     Votre navigateur ne supporte pas la vid√©o.
                  </video>
                  <audio controls>
                    <source src="podcast.mp3" type="audio/mpeg">
                      Votre navigateur ne supporte pas l'audio.
                  </audio>
                 </div>         
            <div class="comments-section">
              <h4>Commentaires</h4>
               <textarea placeholder="√âcrire un commentaire..."></textarea>
               <button id="post-comment">Publier</button>
               <div id="comments-list"></div>
            </div>          
            <div class="share-buttons">
              <a href="https://facebook.com/sharer/sharer.php?u=URL" target="_blank">Partager sur Facebook</a>
              <a href="https://twitter.com/intent/tweet?url=URL" target="_blank">Partager sur Twitter</a>
             </div>
           <div class="like-dislike-container">
             <button class="like-button" onclick="incrementLikes()">
               üëç J'aime <span id="like-count">0</span>
             </button>
               <button class="dislike-button" onclick="incrementDislikes()">
                  üëé Je n'aime pas <span id="dislike-count">0</span>
               </button>
           </div>
            <div class="progress-bar-container">
             <div class="progress-bar" id="like-bar"></div>
             <div class="progress-bar" id="dislike-bar"></div>
            </div>
             <div id="recommendations">
              <h3>Vous aimerez peut-√™tre :</h3>
              <ul id="recommended-articles"></ul>
             </div>
        </article>

        <article class="news-item">
            <h2>Sortie scolaire au mus√©e</h2>
            <p class="date">Publi√© le 10 octobre 2024</p>
            <p class="excerpt">Les √©l√®ves de la classe de 3e ont visit√© le mus√©e d'histoire naturelle pour une sortie √©ducative...</p>
             <a href="#" class="read-more">Lire la suite</a>   
               <div class="multimedia">
                  <video controls>
                    <source src="video.mp4" type="video/mp4">
                     Votre navigateur ne supporte pas la vid√©o.
                  </video>
                  <audio controls>
                    <source src="podcast.mp3" type="audio/mpeg">
                      Votre navigateur ne supporte pas l'audio.
                  </audio>
               </div>             
           <div class="comments-section">
              <h4>Commentaires</h4>
               <textarea placeholder="√âcrire un commentaire..."></textarea>
               <button id="post-comment">Publier</button>
               <div id="comments-list"></div>
           </div>        
          <div class="share-buttons">
              <a href="https://facebook.com/sharer/sharer.php?u=URL" target="_blank">Partager sur Facebook</a>
              <a href="https://twitter.com/intent/tweet?url=URL" target="_blank">Partager sur Twitter</a>
            </div>
              <div class="like-dislike-container">
             <button class="like-button" onclick="incrementLikes()">
               üëç J'aime <span id="like-count">0</span>
             </button>
               <button class="dislike-button" onclick="incrementDislikes()">
                  üëé Je n'aime pas <span id="dislike-count">0</span>
               </button>
              </div>
            <div class="progress-bar-container">
             <div class="progress-bar" id="like-bar"></div>
           <div class="progress-bar" id="dislike-bar"></div>
            </div>
             <div id="recommendations">
              <h3>Vous aimerez peut-√™tre :</h3>
              <ul id="recommended-articles"></ul>
             </div>
        </article>
        <article class="news-item">
            <h2>Atelier de programmation</h2>
            <p class="date">Publi√© le 15 novembre 2024</p>
            <p class="excerpt">Un atelier de programmation a √©t√© organis√© pour initier les √©l√®ves aux bases de la cr√©ation de sites web...</p>
             <a href="#" class="read-more">Lire la suite</a>  
            <div class="multimedia">
                  <video controls>
                    <source src="video.mp4" type="video/mp4">
                     Votre navigateur ne supporte pas la vid√©o.
                  </video>
                  <audio controls>
                    <source src="podcast.mp3" type="audio/mpeg">
                      Votre navigateur ne supporte pas l'audio.
                  </audio>
            </div>       
             <div class="comments-section">
              <h4>Commentaires</h4>
               <textarea placeholder="√âcrire un commentaire..."></textarea>
               <button id="post-comment">Publier</button>
               <div id="comments-list"></div>
             </div>  
            <div class="share-buttons">
              <a href="https://facebook.com/sharer/sharer.php?u=URL" target="_blank">Partager sur Facebook</a>
              <a href="https://twitter.com/intent/tweet?url=URL" target="_blank">Partager sur Twitter</a>
            </div>            
            <div class="like-dislike-container">
             <button class="like-button" onclick="incrementLikes()">
               üëç J'aime <span id="like-count">0</span>
             </button>
               <button class="dislike-button" onclick="incrementDislikes()">
                  üëé Je n'aime pas <span id="dislike-count">0</span>
               </button>                              
            </div>
            <div class="progress-bar-container">
             <div class="progress-bar" id="like-bar"></div>
             <div class="progress-bar" id="dislike-bar"></div>
            </div> 
            <div id="recommendations">
              <h3>Vous aimerez peut-√™tre :</h3>
              <ul id="recommended-articles"></ul>
            </div>
        </article>
    </section>

  <!-- Les articles s'affichent ici -->
</div>
<div id="loader" style="text-align: center; display: none;">Chargement...</div>

    <footer>
        <p>&copy; 2024 √âcole Moderne|Tout droit reserv√©.</p>
    </footer>
<script>
document.addEventListener("DOMContentLoaded", function () {
        const headerMessage = document.getElementById("welcomeMessage");
        const hour = new Date().getHours();

        if (hour < 12) {
            headerMessage.textContent = "Bonjour et bienvenue‚ÄØ!";
        } else if (hour < 18) {
            headerMessage.textContent = "Bon apr√®s-midi et bienvenue‚ÄØ!";
        } else {
            headerMessage.textContent = "Bonsoir et bienvenue‚ÄØ!";
        }
});
    
    const menuButton = document.getElementById("menuButton");
    const menuItems = document.getElementById("menuItems");

    menuButton.addEventListener("click", function () {
        if (menuItems.style.display === "none") {
            menuItems.style.display = "block";
        } else {
            menuItems.style.display = "none";
        }
    });
    
    document.getElementById('category').addEventListener('change', function () {
    const selectedCategory = this.value;
    console.log('Filtrer par cat√©gorie : ', selectedCategory);
    // Ajoute ici le code pour afficher les actualit√©s de la cat√©gorie s√©lectionn√©e
});

document.getElementById('sort').addEventListener('change', function () {
    const sortOption = this.value;
    console.log('Trier par : ', sortOption);
    // Ajoute ici le code pour trier les actualit√©s
});
    
    
    
    // Initialisation du compteur de "J'aime"
let likeCount = localStorage.getItem("likeCount") ? parseInt(localStorage.getItem("likeCount")) : 0;

// Afficher le compteur au chargement de la page
document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("like-count").innerText = likeCount;
});

// Fonction pour incr√©menter le compteur
function incrementLikes() {
    likeCount++;
    document.getElementById("like-count").innerText = likeCount;

    // Sauvegarde dans le stockage local
    localStorage.setItem("likeCount", likeCount);
}
// Initialisation des compteurs
let dislikeCount = localStorage.getItem("dislikeCount") ? parseInt(localStorage.getItem("dislikeCount")) : 0;

// Charger les compteurs au d√©marrage
document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("like-count").innerText = likeCount;
    document.getElementById("dislike-count").innerText = dislikeCount;
});

// Incr√©menter les "Je n'aime pas"
function incrementDislikes() {
    dislikeCount++;
    document.getElementById("dislike-count").innerText = dislikeCount;

    // Sauvegarder dans le stockage local
    localStorage.setItem("dislikeCount", dislikeCount);
}
   function incrementLikes() {
    if (!localStorage.getItem("hasVoted")) {
        likeCount++;
        document.getElementById("like-count").innerText = likeCount;

        // Sauvegarder les donn√©es
        localStorage.setItem("likeCount", likeCount);
        localStorage.setItem("hasVoted", true);
    } else {
        alert("Vous avez d√©j√† vot√© !");
    }
}

function incrementDislikes() {
    if (!localStorage.getItem("hasVoted")) {
        dislikeCount++;
        document.getElementById("dislike-count").innerText = dislikeCount;

        // Sauvegarder les donn√©es
        localStorage.setItem("dislikeCount", dislikeCount);
        localStorage.setItem("hasVoted", true);
    } else {
        alert("Vous avez d√©j√† vot√© !");
    }
} 
  function updateProgressBar() {
    const totalVotes = likeCount + dislikeCount;
    const likePercentage = totalVotes > 0 ? (likeCount / totalVotes) * 100 : 0;
    const dislikePercentage = totalVotes > 0 ? (dislikeCount / totalVotes) * 100 : 0;

    document.getElementById("like-bar").style.width = likePercentage + "%";
    document.getElementById("dislike-bar").style.width = dislikePercentage + "%";
}

// Appelle cette fonction apr√®s chaque vote
function incrementLikes() {
    if (!localStorage.getItem("hasVoted")) {
        likeCount++;
        document.getElementById("like-count").innerText = likeCount;
        localStorage.setItem("likeCount", likeCount);
        localStorage.setItem("hasVoted", true);
        updateProgressBar(); // Met √† jour la barre
    } else {
        alert("Vous avez d√©j√† vot√© !");
    }
}

function incrementDislikes() {
    if (!localStorage.getItem("hasVoted")) {
        dislikeCount++;
        document.getElementById("dislike-count").innerText = dislikeCount;
        localStorage.setItem("dislikeCount", dislikeCount);
        localStorage.setItem("hasVoted", true);
        updateProgressBar(); // Met √† jour la barre
    } else {
        alert("Vous avez d√©j√† vot√© !");
    }
}  
    
document.getElementById('post-comment').addEventListener('click', () => {
  const commentBox = document.querySelector('textarea');
  const commentsList = document.getElementById('comments-list');
  
  if (commentBox.value.trim() !== '') {
    const newComment = document.createElement('div');
    newComment.textContent = commentBox.value;
    commentsList.appendChild(newComment);
    commentBox.value = '';
  } else {
    alert('Le commentaire est vide !');
  }
});
    
setTimeout(() => {
  const notification = document.getElementById('notification');
  notification.style.display = 'block';
}, 5000);
function simulateNewArticle() {
  setTimeout(() => {
    const notification = document.getElementById('real-time-notification');
    const title = document.getElementById('new-article-title');
    title.textContent = "D√©couverte scientifique r√©volutionnaire";
    notification.style.display = 'block';
    
    setTimeout(() => {
      notification.style.display = 'none';
    }, 5000);
  }, 10000);
}
    
simulateNewArticle(); 
    
if ('Notification' in window) {
  Notification.requestPermission().then(permission => {
    if (permission === 'granted') {
      new Notification('Nouvelle actualit√© disponible !', {
        body: 'Cliquez ici pour lire les derni√®res nouvelles.',
        icon: 'notification-icon.png',
      });
    }
  });
}
    
    
 let currentPage = 1;

function loadArticles() {
  const loader = document.getElementById('loader');
  loader.style.display = 'block';

  setTimeout(() => {
    for (let i = 0; i < 5; i++) {
      const article = document.createElement('div');
      article.className = 'news-item';
      article.textContent = `Article ${currentPage * 5 + i + 1}`;
      document.getElementById('news-container').appendChild(article);
    }
    currentPage++;
    loader.style.display = 'none';
  }, 1000);
}

window.addEventListener('scroll', () => {
  if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {
    loadArticles();
  }
});
// Charger les premiers articles
loadArticles();
    
const allArticles = [
  { title: "La science et ses merveilles", tags: ["science", "technologie"] },
  { title: "Les sports aujourd'hui", tags: ["sport"] },
  { title: "L'√©ducation moderne", tags: ["√©ducation"] },
  { title: "Technologie et innovation", tags: ["technologie"] },
];

function generateRecommendations(tag) {
  const recommendations = allArticles.filter(article =>
    article.tags.includes(tag)
  );
  const list = document.getElementById('recommended-articles');
  list.innerHTML = '';
  recommendations.forEach(article => {
    const li = document.createElement('li');
    li.textContent = article.title;
    list.appendChild(li);
  });
}

// Simule une consultation avec un mot-cl√© "science"
generateRecommendations('science');
    
document.getElementById('login-btn').addEventListener('click', () => {
  alert("Connexion utilisateur (ajoute Firebase pour g√©rer cela).");
});
document.getElementById('logout-btn').addEventListener('click', () => {
  alert("D√©connexion utilisateur.");
});
    
const articles = [
  { title: "D√©couverte spatiale", tags: ["espace", "science"] },
  { title: "Match de football", tags: ["sport"] },
  { title: "Technologie IA", tags: ["tech", "IA"] },
];

function recommendArticles(userPreference) {
  return articles.filter(article =>
    article.tags.includes(userPreference)
  );
}

// Simule une pr√©f√©rence utilisateur
console.log(recommendArticles("tech"));
</script>
</body>
                </html>
